<!DOCTYPE html>
<html>
<head>
    <title>æ‰©å±•åŠŸèƒ½è°ƒè¯•é¡µé¢</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            padding: 30px;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
        }
        .test-section { 
            background: #f8f9fa; 
            padding: 20px; 
            margin: 20px 0; 
            border-radius: 8px;
            border-left: 4px solid #007cba;
        }
        .word-highlight {
            font-weight: bold;
            color: #d73527;
            background: #fff3cd;
            padding: 2px 4px;
            border-radius: 3px;
        }
        button { 
            padding: 10px 20px; 
            margin: 10px; 
            background: #007cba; 
            color: white; 
            border: none; 
            border-radius: 5px; 
            cursor: pointer;
        }
        button:hover { background: #005a8b; }
        .debug-info {
            background: #e9ecef;
            padding: 15px;
            border-radius: 5px;
            font-family: monospace;
            font-size: 14px;
            margin: 10px 0;
        }
        .instructions {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <h1>ğŸ” ç”Ÿè¯è®°å½•æ‰©å±•è°ƒè¯•é¡µé¢</h1>
    
    <div class="instructions">
        <h3>ğŸ“‹ æµ‹è¯•è¯´æ˜ï¼š</h3>
        <ol>
            <li><strong>ç¡®ä¿æ‰©å±•å·²é‡æ–°åŠ è½½</strong>ï¼šæ‰“å¼€ chrome://extensions/ â†’ åˆ·æ–° "Vocab Recorder"</li>
            <li><strong>æ‰“å¼€å¼€å‘è€…å·¥å…·</strong>ï¼šæŒ‰F12 â†’ ç‚¹å‡»"Console"æ ‡ç­¾æŸ¥çœ‹æ—¥å¿—</li>
            <li><strong>æµ‹è¯•åˆ’è¯åŠŸèƒ½</strong>ï¼šé€‰ä¸­ä¸‹é¢çš„å•è¯ï¼Œåº”è¯¥è‡ªåŠ¨æ˜¾ç¤ºé‡Šä¹‰æ‚¬æµ®çª—</li>
            <li><strong>æ£€æŸ¥æ—¥å¿—</strong>ï¼šåœ¨æ§åˆ¶å°ä¸­æŸ¥çœ‹è¯¦ç»†çš„è°ƒè¯•ä¿¡æ¯</li>
        </ol>
    </div>

    <div class="test-section">
        <h2>ğŸ¯ åŸºç¡€å•è¯æµ‹è¯•</h2>
        <p>è¯·å°è¯•é€‰ä¸­ä»¥ä¸‹å•è¯ï¼ˆé€ä¸ªæµ‹è¯•ï¼‰ï¼š</p>
        <div style="font-size: 18px; line-height: 2.5;">
            <span class="word-highlight">hello</span> 
            <span class="word-highlight">world</span> 
            <span class="word-highlight">computer</span> 
            <span class="word-highlight">language</span> 
            <span class="word-highlight">programming</span>
        </div>
    </div>

    <div class="test-section">
        <h2>ğŸ”¤ å¤æ‚è¯æ±‡æµ‹è¯•</h2>
        <p>æµ‹è¯•åŒ…å«æ ‡ç‚¹ç¬¦å·å’Œä¸åŒå½¢å¼çš„å•è¯ï¼š</p>
        <div style="font-size: 16px; line-height: 2;">
            The <span class="word-highlight">quick-thinking</span> developer wrote 
            <span class="word-highlight">JavaScript</span> code. 
            She said, "<span class="word-highlight">amazing</span>!" when it worked. 
            The <span class="word-highlight">user-friendly</span> interface was 
            <span class="word-highlight">well-designed</span>.
        </div>
    </div>

    <div class="test-section">
        <h2>ğŸ“° çœŸå®æ–‡æœ¬æµ‹è¯•</h2>
        <p>æ¨¡æ‹ŸçœŸå®ç½‘é¡µç¯å¢ƒï¼š</p>
        <div style="font-size: 14px; line-height: 1.8; text-align: justify;">
            Artificial intelligence has <span class="word-highlight">revolutionized</span> the way we 
            <span class="word-highlight">interact</span> with technology. Modern 
            <span class="word-highlight">algorithms</span> can process vast amounts of data and provide 
            <span class="word-highlight">sophisticated</span> insights. The <span class="word-highlight">implementation</span> 
            of machine learning techniques has enabled <span class="word-highlight">unprecedented</span> 
            advances in various fields, from healthcare to <span class="word-highlight">autonomous</span> vehicles.
        </div>
    </div>

    <div class="test-section">
        <h2>ğŸ› ï¸ åŠŸèƒ½æµ‹è¯•å·¥å…·</h2>
        <button onclick="testExtensionStatus()">æ£€æŸ¥æ‰©å±•çŠ¶æ€</button>
        <button onclick="testAPIConnection()">æµ‹è¯•APIè¿æ¥</button>
        <button onclick="clearConsole()">æ¸…ç©ºæ§åˆ¶å°</button>
        
        <div id="debugOutput" class="debug-info">
            è°ƒè¯•ä¿¡æ¯å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ...
        </div>
    </div>

    <div class="test-section">
        <h2>ğŸ” å¸¸è§é—®é¢˜æ’æŸ¥</h2>
        <ul>
            <li><strong>æ²¡æœ‰æ‚¬æµ®çª—æ˜¾ç¤º</strong>ï¼šæ£€æŸ¥æ§åˆ¶å°æ˜¯å¦æœ‰"VocabularyRecorder åˆå§‹åŒ–å®Œæˆ"æ¶ˆæ¯</li>
            <li><strong>æŸ¥è¯¢å¤±è´¥</strong>ï¼šç¡®è®¤åç«¯æœåŠ¡è¿è¡Œåœ¨ localhost:8000</li>
            <li><strong>é€‰æ‹©æ— æ•ˆæœ</strong>ï¼šæ£€æŸ¥æ˜¯å¦æœ‰"æ–‡æœ¬é€‰æ‹©äº‹ä»¶è§¦å‘"æ—¥å¿—</li>
            <li><strong>Runtimeé”™è¯¯</strong>ï¼šé‡æ–°åŠ è½½æ‰©å±•å¹¶åˆ·æ–°é¡µé¢</li>
        </ul>
    </div>

    <script>
        function updateDebugOutput(message) {
            const output = document.getElementById('debugOutput');
            const timestamp = new Date().toLocaleTimeString();
            output.innerHTML += `[${timestamp}] ${message}<br>`;
            output.scrollTop = output.scrollHeight;
        }

        function testExtensionStatus() {
            updateDebugOutput('æ£€æŸ¥æ‰©å±•çŠ¶æ€...');
            
            if (typeof chrome !== 'undefined' && chrome.runtime) {
                updateDebugOutput('âœ… Chrome runtime å¯ç”¨');
                
                // æµ‹è¯•ä¸background scriptçš„é€šä¿¡
                chrome.runtime.sendMessage({type: 'PING'}, (response) => {
                    if (chrome.runtime.lastError) {
                        updateDebugOutput('âŒ æ‰©å±•é€šä¿¡å¤±è´¥: ' + chrome.runtime.lastError.message);
                    } else {
                        updateDebugOutput('âœ… æ‰©å±•é€šä¿¡æ­£å¸¸');
                    }
                });
            } else {
                updateDebugOutput('âŒ Chrome runtime ä¸å¯ç”¨');
            }
        }

        function testAPIConnection() {
            updateDebugOutput('æµ‹è¯•APIè¿æ¥...');
            
            fetch('http://localhost:8000/')
                .then(response => response.json())
                .then(data => {
                    updateDebugOutput('âœ… APIè¿æ¥æˆåŠŸ: ' + data.message);
                })
                .catch(error => {
                    updateDebugOutput('âŒ APIè¿æ¥å¤±è´¥: ' + error.message);
                });
        }

        function clearConsole() {
            document.getElementById('debugOutput').innerHTML = 'æ§åˆ¶å°å·²æ¸…ç©º...<br>';
            console.clear();
        }

        // é¡µé¢åŠ è½½å®Œæˆåè‡ªåŠ¨æ£€æŸ¥
        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(() => {
                updateDebugOutput('é¡µé¢åŠ è½½å®Œæˆï¼Œå¼€å§‹è‡ªåŠ¨æ£€æŸ¥...');
                testExtensionStatus();
                testAPIConnection();
            }, 1000);
        });

        // ç›‘å¬é€‰æ‹©äº‹ä»¶ï¼ˆç”¨äºè°ƒè¯•ï¼‰
        document.addEventListener('mouseup', (e) => {
            const selection = window.getSelection();
            const selectedText = selection.toString().trim();
            if (selectedText) {
                updateDebugOutput(`ğŸ“ æ£€æµ‹åˆ°æ–‡æœ¬é€‰æ‹©: "${selectedText}"`);
            }
        });
    </script>
</body>
</html>